<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>माझे ग्रंथालय</title>
    <style>
        /* --- 1. BASIC SETUP & ANIMATED BACKGROUND --- */
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #000;
            color: white;
            height: 100vh;
            overflow: hidden; /* Scroll in specific areas only */
        }

        /* Animated Orbs (Liquid Background) */
        .orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.6;
            animation: float 10s infinite alternate ease-in-out;
            z-index: -1;
        }
        .orb-1 { width: 300px; height: 300px; background: #4b6cb7; top: -50px; left: -50px; }
        .orb-2 { width: 250px; height: 250px; background: #9053c7; bottom: -50px; right: -50px; animation-delay: -5s; }

        @keyframes float {
            0% { transform: translate(0, 0); }
            100% { transform: translate(30px, 50px); }
        }

        /* --- 2. LIBRARY VIEW (GRID) --- */
        #library-view {
            padding: 20px;
            height: 100vh;
            overflow-y: auto;
            box-sizing: border-box;
            display: block;
        }

        h1 { font-size: 32px; font-weight: bold; margin-bottom: 20px; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 20px;
            padding-bottom: 50px;
        }

        /* Glass Card */
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: transform 0.2s;
            cursor: pointer;
        }
        .card:active { transform: scale(0.95); }

        .card-icon {
            width: 60px; height: 80px;
            background: linear-gradient(135deg, rgba(255,255,255,0.4), rgba(255,255,255,0.1));
            margin: 0 auto 10px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            font-weight: bold;
            color: rgba(255,255,255,0.8);
        }

        .card-title { font-size: 16px; font-weight: 500; line-height: 1.3; }

        /* --- 3. READER VIEW (With Search) --- */
        #reader-view {
            display: none; /* Initially hidden */
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: white;
            z-index: 10;
        }

        /* Glass Navbar for Reader */
        .navbar {
            position: absolute;
            top: 0; left: 0; width: 100%;
            height: 60px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(15px);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 15px;
            box-sizing: border-box;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            z-index: 20;
        }

        .nav-btn {
            background: rgba(0,0,0,0.1);
            border: none;
            border-radius: 50%;
            width: 35px; height: 35px;
            font-size: 18px;
            cursor: pointer;
        }

        #book-frame {
            width: 100%; height: 100%;
            border: none;
            padding-top: 60px; /* Space for navbar */
            box-sizing: border-box;
        }

        /* Search Bar inside Reader */
        #search-bar-container {
            display: none;
            position: absolute;
            top: 65px; left: 5%; width: 90%;
            background: rgba(255,255,255,0.95);
            padding: 10px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            z-index: 25;
            display: flex;
            gap: 10px;
        }
        input { flex: 1; padding: 8px; border-radius: 8px; border: 1px solid #ccc; }
        .action-btn { background: #007AFF; color: white; border: none; padding: 8px 15px; border-radius: 8px; }
    </style>
</head>
<body>

    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>

    <div id="library-view">
        <h1>माझे ग्रंथालय</h1>
        <div class="grid" id="book-grid">
            </div>
    </div>

    <div id="reader-view">
        <div class="navbar">
            <button class="nav-btn" onclick="closeBook()">&#10094;</button> <span style="color:black; font-weight:bold;" id="reader-title">वाचन</span>
            <button class="nav-btn" onclick="toggleSearch()" style="background:#007AFF; color:white;">&#128269;</button> </div>

        <div id="search-bar-container" style="display:none;">
            <input type="text" id="searchInput" placeholder="शोधा...">
            <button class="action-btn" onclick="performSearch()">Search</button>
        </div>

        <iframe id="book-frame"></iframe>
    </div>

    <script>
        // --- 1. CONFIGURATION: तुमच्या HTML फाईल्सची नावे इथे लिहा ---
        // 'file': फाईलचे नाव (उदा. SUTRAPATH.html)
        // 'name': ॲपमध्ये दिसणारे नाव
        const books = [
            { file: 'SUTRAPATH.html', name: 'सूत्रपाठ' },
            { file: 'page2.html', name: 'दुसरे पुस्तक' },
            { file: 'page3.html', name: 'तिसरे पुस्तक' }
            // इथे तुम्ही आणखी पुस्तके जोडू शकता
        ];

        // --- 2. RENDER LIBRARY ---
        const grid = document.getElementById('book-grid');
        
        books.forEach(book => {
            const card = document.createElement('div');
            card.className = 'card';
            // First letter as Icon
            const iconLetter = book.name.charAt(0);
            
            card.innerHTML = `
                <div class="card-icon">${iconLetter}</div>
                <div class="card-title">${book.name}</div>
            `;
            
            // On Click: Open Book
            card.onclick = () => openBook(book.file, book.name);
            grid.appendChild(card);
        });

        // --- 3. READER LOGIC ---
        function openBook(fileName, title) {
            document.getElementById('library-view').style.display = 'none';
            document.getElementById('reader-view').style.display = 'block';
            document.getElementById('reader-title').innerText = title;
            document.getElementById('book-frame').src = fileName;
        }

        function closeBook() {
            document.getElementById('reader-view').style.display = 'none';
            document.getElementById('library-view').style.display = 'block';
            document.getElementById('book-frame').src = ""; // Stop loading
            document.getElementById('search-bar-container').style.display = 'none';
        }

        // --- 4. SEARCH LOGIC (Simple Highlight) ---
        function toggleSearch() {
            const bar = document.getElementById('search-bar-container');
            bar.style.display = (bar.style.display === 'none') ? 'flex' : 'none';
        }

        function performSearch() {
            const query = document.getElementById('searchInput').value;
            if(!query) return;

            const iframe = document.getElementById('book-frame');
            const innerDoc = iframe.contentDocument || iframe.contentWindow.document;

            // Remove old highlights
            // (Simple implementation: Reload to clear or advanced JS needed)
            // For now, using window.find which is supported in Android WebView
            
            iframe.contentWindow.find(query);
        }
    </script>
</body>
</html>
